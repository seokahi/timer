<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" href="style.css">
    <title>타이머</title>
</head>
<body>
    <header class="header">
        <h1 class="ir">위니브</h1>
        <img class="logo" src="./img/weniv-logo.png" alt="위니브로고">
    </header>
    <main class="main">
        <div class="container">
            <h2 class="tit-timer">TIMER</h2>
            <form action="" class="block-time">
                <div class="timer">
                    <strong>HRS</strong>
                    <span>00</span>
                </div>
                <div class="timer">
                    <strong>MIN</strong>
                    <span>00</span>
                </div>
                <div class="timer">
                    <strong>SEC</strong>
                    <span class="sec">00</span>
                </div>
            </form>
                <div class="btn">
                    <button class="inp-btn start"><img src="./img/start_gray.png" alt="" ><span>START</span></button>
                    <button class="inp-btn reset"><img src="./img/reset_gray.png" alt=""><span>RESET</span></button> 
                </div>
        </div>
    </main>
    <footer class="footer">
        <h1 class="ir">위니브로고</h1>
        <img src="./img/WENIV Corp..png" alt="">
    </footer>
    <script>
        const time = document.querySelector(".timer .sec");
        const start = document.querySelector(".start");
        const reset = document.querySelector(".reset");
        const text_start = document.querySelector(".start span");
        const text_reset = document.querySelector(".reset span");
        let timerId = null;
        function timeSetting(){
            if(time.textContent== "00") {
                time.innerHTML="10";
            } else if(time.textContent== "10") {
                time.innerHTML="20";
            }
            else if(time.textContent== "20") {
                time.innerHTML="30";
            }
            else if(time.textContent== "30") {
                time.innerHTML="40";
            }
            else if(time.textContent== "40") {
                time.innerHTML="50";
            }
            else if(time.textContent== "50") {
                time.innerHTML="60";
            }
            else {
                time.innerHTML="00";
            }

        }

        const PrintTime = () => {
            let Time = parseInt(time.textContent);
            if(Time === 0) {
                clearInterval(timerId);
                time.textContent="00";
                text_start.innerText="START";
                start.childNodes[0].src="./img/start_gray.png";
                reset.childNodes[0].src="./img/reset_gray.png";
                start.classList.remove("changeStartColor");
                reset.classList.remove("changeResetColor");
                start.classList.remove("changePauseColor");
                alert("🙉 타이머가 끝났어용 !!! 🙉");
            }
            else {
                if(Time-1 < 10) {
                    time.textContent="0"+(Time-1); 
                }
                else {
                    time.textContent=""+(Time-1); 
                }
                }            
            }    
        time.addEventListener('click', (event) => {
            start.classList.add("changeStartColor");
            reset.classList.add("changeResetColor");
            start.childNodes[0].src = "./img/start_white.png";
            reset.childNodes[0].src = "./img/reset_white.png";
            timeSetting();
        })
        reset.addEventListener('click',(event) => {
                start.classList.remove("changeStartColor");
                reset.classList.remove("changeResetColor");
                start.classList.remove("changePauseColor");
                start.childNodes[0].src="./img/start_gray.png";
                reset.childNodes[0].src="./img/reset_gray.png";
                time.textContent = "00";
        })
        start.addEventListener('click' ,(event) => {
            start.classList.remove("changeStartColor");
            start.classList.add("changePauseColor");
            timerId = setInterval(PrintTime, 1000);
            text_start.innerText="PAUSE"
            start.childNodes[0].src = "./img/pause.png";
        })
        //reset 과 start를 time.addEventListener에서 빼내니까 성공 => 이벤트리스너에 중복등록되는듯
    </script>
</body>
</html>